import{d as t,e as n,k as a,s as e,f as s,S as r,y as c,z as i,A as o,B as l,C as f,o as m,D as u,m as d,n as v,E as p,F as h,p as w,q as g,G as k,H as y,P as b,M as x,Q as D,T as E,b as R,I as V,J as j,K as I,t as M,u as $,i as T,j as A,U as C,x as H,V as S,W as U,v as P,w as G}from"./client.2a4e97bf.js";import{M as L,t as q,d as F}from"./markmap.cc548421.js";import"./defineProperty.b786bad4.js";function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var N=C.document;function O(t){var n,a,e,s,r,M,$,T,A,C,P,G,q,F,J,O,z,B,K,Q,W,X,Y,Z;function _(n){t[8].call(null,n)}function tt(n){t[9].call(null,n)}var nt={content:t[2]};void 0!==t[1]&&(nt.el=t[1]),void 0!==t[3]&&(nt.onReset=t[3]);var at=new L({props:nt});return H.push((function(){return S(at,"el",_)})),H.push((function(){return S(at,"onReset",tt)})),{c:function(){n=c(),a=i("h1"),e=o("Markmap"),s=c(),r=i("div"),M=i("div"),$=i("div"),T=c(),A=i("div"),C=i("div"),l(at.$$.fragment),q=c(),F=i("div"),J=i("a"),O=o("Reset"),z=c(),B=i("a"),K=o("Download as SVG"),Q=c(),W=i("a"),X=o("Download as interactive HTML"),this.h()},l:function(t){f('[data-svelte="svelte-r18bnt"]',N.head).forEach(m),n=u(t),a=d(t,"H1",{});var c=v(a);e=p(c,"Markmap"),c.forEach(m),s=u(t),r=d(t,"DIV",{class:!0});var i=v(r);M=d(i,"DIV",{class:!0});var o=v(M);$=d(o,"DIV",{class:!0}),v($).forEach(m),o.forEach(m),T=u(i),A=d(i,"DIV",{class:!0});var l=v(A);C=d(l,"DIV",{class:!0});var w=v(C);h(at.$$.fragment,w),w.forEach(m),q=u(l),F=d(l,"DIV",{class:!0});var g=v(F);J=d(g,"A",{class:!0});var k=v(J);O=p(k,"Reset"),k.forEach(m),z=u(g),B=d(g,"A",{class:!0});var y=v(B);K=p(y,"Download as SVG"),y.forEach(m),Q=u(g),W=d(g,"A",{class:!0});var b=v(W);X=p(b,"Download as interactive HTML"),b.forEach(m),g.forEach(m),l.forEach(m),i.forEach(m),this.h()},h:function(){N.title="Try Markmap",w($,"class","editor svelte-mm2w7t"),w(M,"class","flex-1 svelte-mm2w7t"),w(C,"class","flex-1 mindmap svelte-mm2w7t"),w(J,"class","svelte-mm2w7t"),w(B,"class","svelte-mm2w7t"),w(W,"class","svelte-mm2w7t"),w(F,"class","buttons svelte-mm2w7t"),w(A,"class","flex-1 d-flex flex-column svelte-mm2w7t"),w(r,"class","d-flex svelte-mm2w7t")},m:function(c,i,o){g(c,n,i),g(c,a,i),k(a,e),g(c,s,i),g(c,r,i),k(r,M),k(M,$),t[7]($),k(r,T),k(r,A),k(A,C),y(at,C,null),k(A,q),k(A,F),k(F,J),k(J,O),k(F,z),k(F,B),k(B,K),k(F,Q),k(F,W),k(W,X),Y=!0,o&&b(Z),Z=[x(J,"click",D((function(){E(t[3])&&t[3].apply(this,arguments)}))),x(B,"click",D(t[4])),x(W,"click",D(t[5]))]},p:function(n,a){var e=R(a,1)[0];t=n;var s={};4&e&&(s.content=t[2]),!P&&2&e&&(P=!0,s.el=t[1],U((function(){return P=!1}))),!G&&8&e&&(G=!0,s.onReset=t[3],U((function(){return G=!1}))),at.$set(s)},i:function(t){Y||(V(at.$$.fragment,t),Y=!0)},o:function(t){j(at.$$.fragment,t),Y=!1},d:function(e){e&&m(n),e&&m(a),e&&m(s),e&&m(r),t[7](null),I(at),b(Z)}}}function z(t,n){var a=document.createElement("a");a.download=t,a.href=n,a.click()}function B(t,n,a){var e,s,r,c,i;return M(P(G.mark((function t(){var n,s,i;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){a(2,c=r.getValue())},t.next=3,import("./codemirror.f7583092.js");case 3:return n=t.sent,s=n.default,t.next=7,import("./markdown.68ebf0ed.js");case 7:(r=s(e,{lineNumbers:!0,mode:"markdown",value:"# fruits\n\n- banana\n- mango\n- melon\n- orange\n"})).on("change",F(i,500)),i();case 10:case"end":return t.stop()}}),t)})))),$(P(G.mark((function t(){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=null;case 1:case"end":return t.stop()}}),t)})))),[e,s,c,i,function(){var t=s.outerHTML;z("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){var t=q(c||""),n='<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n<script src="https://cdn.jsdelivr.net/npm/d3@5"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/markmap-lib@0.4/dist/view.min.js"><\/script>\n</head>\n<body>\n<svg id="mindmap"></svg>\n<script>markmap.markmap(\'svg#mindmap\', {/* data */}).fit()<\/script>\n</body>\n</html>\n'.replace("{/* data */}",JSON.stringify(t));z("markmap.html","data:text/html;utf8,"+encodeURIComponent(n))},r,function(t){H[t?"unshift":"push"]((function(){a(0,e=t)}))},function(t){a(1,s=t)},function(t){a(3,i=t)}]}var K=function(c){t(l,r);var i,o=(i=l,function(){var t,n=T(i);if(J()){var a=T(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return A(this,t)});function l(t){var r;return n(this,l),r=o.call(this),a(s(r),t,B,O,e,{}),r}return l}();export default K;
